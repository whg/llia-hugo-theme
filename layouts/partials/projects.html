<div class="projects">
  {{ range .ByParam "order" }}
	{{ partial "project-thumbnail.html" . }}
  {{ end }}
</div>

<script>
(function () {
  const projects = document.querySelectorAll('article.project');
  (function show(i) {
    if (i < projects.length) {
      const img = projects[i].querySelector('img')
      img.src = img.dataset.src
      img.onload = (e) => {
        projects[i].style.opacity = 1
        show(i + 1)
      }
    }
  })(0)
})()
</script>
